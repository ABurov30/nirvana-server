"use strict";var k=Object.create;var b=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var $=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty;var w=(s,e)=>{for(var r in e)b(s,r,{get:e[r],enumerable:!0})},y=(s,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of N(e))!E.call(s,i)&&i!==r&&b(s,i,{get:()=>e[i],enumerable:!(n=C(e,i))||n.enumerable});return s};var x=(s,e,r)=>(r=s!=null?k($(s)):{},y(e||!s||!s.__esModule?b(r,"default",{value:s,enumerable:!0}):r,s)),F=s=>y(b({},"__esModule",{value:!0}),s);var L={};w(L,{FinanceModule:()=>p});module.exports=F(L);var f=require("../../errors/faker-error"),d=require("../../internal/deprecated"),o=x(require("./iban"));class p{constructor(e){this.faker=e;for(const r of Object.getOwnPropertyNames(p.prototype))r==="constructor"||typeof this[r]!="function"||(this[r]=this[r].bind(this))}account(e){return(0,d.deprecated)({deprecated:"faker.finance.account",proposed:"faker.finance.accountNumber",since:"8.0",until:"9.0"}),this.accountNumber(e)}accountNumber(e={}){typeof e=="number"&&(e={length:e});const{length:r=8}=e;return this.faker.string.numeric({length:r,allowLeadingZeros:!0})}accountName(){return[this.faker.helpers.arrayElement(this.faker.definitions.finance.account_type),"Account"].join(" ")}routingNumber(){const e=this.faker.string.numeric({length:8,allowLeadingZeros:!0});let r=0;for(let n=0;n<e.length;n+=3)r+=Number(e[n])*3,r+=Number(e[n+1])*7,r+=Number(e[n+2])||0;return`${e}${Math.ceil(r/10)*10-r}`}mask(e,r,n){return(0,d.deprecated)({deprecated:"faker.finance.mask",proposed:"faker.finance.maskedNumber",since:"8.0",until:"9.0"}),this.maskedNumber({length:e,parens:r,ellipsis:n})}maskedNumber(e={}){typeof e=="number"&&(e={length:e});const{ellipsis:r,length:n=4,parens:i}=e;let t="";for(let a=0;a<n;a++)t=`${t}#`;return t=r?["...",t].join(""):t,t=i?["(",t,")"].join(""):t,t=this.faker.helpers.replaceSymbolWithNumber(t),t}amount(e={},r=1e3,n=2,i="",t=!1){typeof e=="number"&&(e={min:e});const{autoFormat:a=t,dec:m=n,max:l=r,min:g=0,symbol:u=i}=e,c=this.faker.number.float({max:l,min:g,precision:10**-m});let h;return a?h=c.toLocaleString(void 0,{minimumFractionDigits:m}):h=c.toFixed(m),u+h}transactionType(){return this.faker.helpers.arrayElement(this.faker.definitions.finance.transaction_type)}currency(){return this.faker.helpers.arrayElement(this.faker.definitions.finance.currency)}currencyCode(){return this.currency().code}currencyName(){return this.currency().name}currencySymbol(){let e;for(;!e;)e=this.currency().symbol;return e}bitcoinAddress(){const e=this.faker.number.int({min:25,max:39});let r=this.faker.helpers.arrayElement(["1","3"]);return r+=this.faker.string.alphanumeric({length:e,casing:"mixed",exclude:"0OIl"}),r}litecoinAddress(){const e=this.faker.number.int({min:26,max:33});let r=this.faker.helpers.arrayElement(["L","M","3"]);for(let n=0;n<e-1;n++)r+=this.faker.helpers.arrayElement("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ".split(""));return r}creditCardNumber(e={}){typeof e=="string"&&(e={issuer:e});const{issuer:r=""}=e;let n;const i=this.faker.definitions.finance.credit_card,t=r.toLowerCase();if(t in i)n=this.faker.helpers.arrayElement(i[t]);else if(/#/.test(r))n=r;else{const a=this.faker.helpers.objectValue(i);n=this.faker.helpers.arrayElement(a)}return n=n.replace(/\//g,""),this.faker.helpers.replaceCreditCardSymbols(n)}creditCardCVV(){return this.faker.string.numeric({length:3,allowLeadingZeros:!0})}creditCardIssuer(){return this.faker.helpers.objectKey(this.faker.definitions.finance.credit_card)}pin(e={}){typeof e=="number"&&(e={length:e});const{length:r=4}=e;if(r<1)throw new f.FakerError("minimum length is 1");return this.faker.string.numeric({length:r,allowLeadingZeros:!0})}ethereumAddress(){return this.faker.string.hexadecimal({length:40,casing:"lower"})}iban(e={},r){typeof e=="boolean"&&(e={formatted:e});const{countryCode:n=r,formatted:i=!1}=e,t=n?o.default.formats.find(u=>u.country===n):this.faker.helpers.arrayElement(o.default.formats);if(!t)throw new f.FakerError(`Country code ${n} not supported.`);let a="",m=0;for(const u of t.bban){let c=u.count;for(m+=u.count;c>0;)u.type==="a"?a+=this.faker.helpers.arrayElement(o.default.alpha):u.type==="c"?this.faker.datatype.boolean(.8)?a+=this.faker.number.int(9):a+=this.faker.helpers.arrayElement(o.default.alpha):c>=3&&this.faker.datatype.boolean(.3)?this.faker.datatype.boolean()?(a+=this.faker.helpers.arrayElement(o.default.pattern100),c-=2):(a+=this.faker.helpers.arrayElement(o.default.pattern10),c--):a+=this.faker.number.int(9),c--;a=a.substring(0,m)}let l=98-o.default.mod97(o.default.toDigitString(`${a}${t.country}00`));l<10&&(l=`0${l}`);const g=`${t.country}${l}${a}`;return i?g.match(/.{1,4}/g).join(" "):g}bic(e={}){const{includeBranchCode:r=this.faker.datatype.boolean()}=e,n=this.faker.string.alpha({length:4,casing:"upper"}),i=this.faker.helpers.arrayElement(o.default.iso3166),t=this.faker.string.alphanumeric({length:2,casing:"upper"}),a=r?this.faker.datatype.boolean()?this.faker.string.alphanumeric({length:3,casing:"upper"}):"XXX":"";return`${n}${i}${t}${a}`}transactionDescription(){const e=this.amount(),r=this.faker.company.name(),n=this.transactionType(),i=this.accountNumber(),t=this.maskedNumber(),a=this.currencyCode();return`${n} transaction at ${r} using card ending with ***${t} for ${a} ${e} in account ***${i}`}}0&&(module.exports={FinanceModule});
